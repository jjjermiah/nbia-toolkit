<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 9.0.0 (20230911.1827)
 -->
<!-- Title: classes_nbiatoolkit Pages: 1 -->
<svg width="1722pt" height="820pt"
 viewBox="0.00 0.00 1722.00 820.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 816)">
<title>classes_nbiatoolkit</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-816 1718,-816 1718,4 -4,4"/>
<!-- nbiatoolkit.dicomsort.dicomsort.DICOMSorter -->
<g id="node1" class="node">
<title>nbiatoolkit.dicomsort.dicomsort.DICOMSorter</title>
<polygon fill="none" stroke="black" points="0,-116 0,-255.5 484.75,-255.5 484.75,-116 0,-116"/>
<text text-anchor="start" x="203" y="-238.2" font-family="Times,serif" font-size="14.00">DICOMSorter</text>
<polyline fill="none" stroke="black" points="0,-231 484.75,-231"/>
<text text-anchor="start" x="178.62" y="-213.7" font-family="Times,serif" font-size="14.00">destinationDir : str</text>
<text text-anchor="start" x="178.62" y="-197.2" font-family="Times,serif" font-size="14.00">sanitizeFilename : bool</text>
<text text-anchor="start" x="178.62" y="-180.7" font-family="Times,serif" font-size="14.00">sourceDir : str</text>
<text text-anchor="start" x="178.62" y="-164.2" font-family="Times,serif" font-size="14.00">targetPattern : str</text>
<text text-anchor="start" x="178.62" y="-147.7" font-family="Times,serif" font-size="14.00">truncateUID : bool</text>
<polyline fill="none" stroke="black" points="0,-140.5 484.75,-140.5"/>
<text text-anchor="start" x="8" y="-123.2" font-family="Times,serif" font-size="14.00">sortDICOMFiles(shutil_option: str, overwrite: bool, n_parallel: int, progressbar): bool</text>
</g>
<!-- nbiatoolkit.utils.md5.MD5HashMismatchError -->
<g id="node2" class="node">
<title>nbiatoolkit.utils.md5.MD5HashMismatchError</title>
<polygon fill="none" stroke="black" points="502.88,-161.25 502.88,-210.25 659.88,-210.25 659.88,-161.25 502.88,-161.25"/>
<text text-anchor="start" x="510.88" y="-192.95" font-family="Times,serif" font-size="14.00" fill="red">MD5HashMismatchError</text>
<polyline fill="none" stroke="black" points="502.88,-185.75 659.88,-185.75"/>
<polyline fill="none" stroke="black" points="502.88,-185.75 659.88,-185.75"/>
<text text-anchor="start" x="579.5" y="-168.45" font-family="Times,serif" font-size="14.00" fill="red"> </text>
</g>
<!-- nbiatoolkit.nbia.NBIAClient -->
<g id="node3" class="node">
<title>nbiatoolkit.nbia.NBIAClient</title>
<polygon fill="none" stroke="black" points="270.75,-424.5 270.75,-811.5 1714,-811.5 1714,-424.5 270.75,-424.5"/>
<text text-anchor="start" x="959.38" y="-794.2" font-family="Times,serif" font-size="14.00">NBIAClient</text>
<polyline fill="none" stroke="black" points="270.75,-787 1714,-787"/>
<text text-anchor="start" x="955.62" y="-769.7" font-family="Times,serif" font-size="14.00">OAuth_client</text>
<text text-anchor="start" x="955.62" y="-753.2" font-family="Times,serif" font-size="14.00">base_url</text>
<text text-anchor="start" x="955.62" y="-736.7" font-family="Times,serif" font-size="14.00">headers</text>
<text text-anchor="start" x="955.62" y="-720.2" font-family="Times,serif" font-size="14.00">logger</text>
<text text-anchor="start" x="955.62" y="-703.7" font-family="Times,serif" font-size="14.00">return_type</text>
<polyline fill="none" stroke="black" points="270.75,-696.5 1714,-696.5"/>
<text text-anchor="start" x="278.75" y="-679.2" font-family="Times,serif" font-size="14.00">downloadSeries(SeriesInstanceUID: Union[str, list], downloadDir: str, filePattern: str, overwrite: bool, nParallel: int, Progressbar: bool): bool</text>
<text text-anchor="start" x="278.75" y="-662.7" font-family="Times,serif" font-size="14.00">getBodyPartCounts(Collection: str, Modality: str, return_type: Optional[Union[ReturnType, str]]): List[dict[Any, Any]] | pd.DataFrame</text>
<text text-anchor="start" x="278.75" y="-646.2" font-family="Times,serif" font-size="14.00">getCollectionDescriptions(collectionName: str, return_type: Optional[Union[ReturnType, str]]): List[dict[Any, Any]] | pd.DataFrame</text>
<text text-anchor="start" x="278.75" y="-629.7" font-family="Times,serif" font-size="14.00">getCollectionPatientCount(prefix: str, return_type: Optional[Union[ReturnType, str]]): List[dict[Any, Any]] | pd.DataFrame</text>
<text text-anchor="start" x="278.75" y="-613.2" font-family="Times,serif" font-size="14.00">getCollections(prefix: str, return_type: Optional[Union[ReturnType, str]]): List[dict[Any, Any]] | pd.DataFrame</text>
<text text-anchor="start" x="278.75" y="-596.7" font-family="Times,serif" font-size="14.00">getDICOMTags(SeriesInstanceUID: str, return_type: Optional[Union[ReturnType, str]]): List[dict[Any, Any]] | pd.DataFrame</text>
<text text-anchor="start" x="278.75" y="-580.2" font-family="Times,serif" font-size="14.00">getModalityValues(Collection: str, BodyPartExamined: str, Counts: bool, return_type: Optional[Union[ReturnType, str]]): List[dict[Any, Any]] | pd.DataFrame</text>
<text text-anchor="start" x="278.75" y="-563.7" font-family="Times,serif" font-size="14.00">getNewPatients(Collection: str, Date: Union[str, datetime], return_type: Optional[Union[ReturnType, str]]): List[dict[Any, Any]] | pd.DataFrame</text>
<text text-anchor="start" x="278.75" y="-547.2" font-family="Times,serif" font-size="14.00">getNewSeries(Date: Union[str, datetime], return_type: Optional[Union[ReturnType, str]]): List[dict[Any, Any]] | pd.DataFrame</text>
<text text-anchor="start" x="278.75" y="-530.7" font-family="Times,serif" font-size="14.00">getPatients(Collection: str, return_type: Optional[Union[ReturnType, str]]): List[dict[Any, Any]] | pd.DataFrame</text>
<text text-anchor="start" x="278.75" y="-514.2" font-family="Times,serif" font-size="14.00">getPatientsByCollectionAndModality(Collection: str, Modality: str, return_type: Optional[Union[ReturnType, str]]): List[dict[Any, Any]] | pd.DataFrame</text>
<text text-anchor="start" x="278.75" y="-497.7" font-family="Times,serif" font-size="14.00">getSeries(Collection: str, PatientID: str, StudyInstanceUID: str, Modality: str, SeriesInstanceUID: str, BodyPartExamined: str, ManufacturerModelName: str, Manufacturer: str, return_type: Optional[Union[ReturnType, str]]): List[dict[Any, Any]] | pd.DataFrame</text>
<text text-anchor="start" x="278.75" y="-481.2" font-family="Times,serif" font-size="14.00">getSeriesMetadata(SeriesInstanceUID: Union[str, list[str]], return_type: Optional[Union[ReturnType, str]]): List[dict[Any, Any]] | pd.DataFrame</text>
<text text-anchor="start" x="278.75" y="-464.7" font-family="Times,serif" font-size="14.00">getStudies(Collection: str, PatientID: str, StudyInstanceUID: str, return_type: Optional[Union[ReturnType, str]]): List[dict[Any, Any]] | pd.DataFrame</text>
<text text-anchor="start" x="278.75" y="-448.2" font-family="Times,serif" font-size="14.00">parsePARAMS(params: dict): dict</text>
<text text-anchor="start" x="278.75" y="-431.7" font-family="Times,serif" font-size="14.00">query_api(endpoint: NBIA_ENDPOINTS, params: dict): List[dict[Any, Any]]</text>
</g>
<!-- nbiatoolkit.utils.nbia_endpoints.NBIA_BASE_URLS -->
<g id="node4" class="node">
<title>nbiatoolkit.utils.nbia_endpoints.NBIA_BASE_URLS</title>
<polygon fill="none" stroke="black" points="677.62,-149 677.62,-222.5 809.12,-222.5 809.12,-149 677.62,-149"/>
<text text-anchor="start" x="685.62" y="-205.2" font-family="Times,serif" font-size="14.00">NBIA_BASE_URLS</text>
<polyline fill="none" stroke="black" points="677.62,-198 809.12,-198"/>
<text text-anchor="start" x="728.38" y="-180.7" font-family="Times,serif" font-size="14.00">name</text>
<polyline fill="none" stroke="black" points="677.62,-173.5 809.12,-173.5"/>
<text text-anchor="start" x="741.5" y="-156.2" font-family="Times,serif" font-size="14.00"> </text>
</g>
<!-- nbiatoolkit.utils.nbia_endpoints.NBIA_BASE_URLS&#45;&gt;nbiatoolkit.nbia.NBIAClient -->
<g id="edge2" class="edge">
<title>nbiatoolkit.utils.nbia_endpoints.NBIA_BASE_URLS&#45;&gt;nbiatoolkit.nbia.NBIAClient</title>
<path fill="none" stroke="black" d="M755,-222.97C767.89,-261.07 790.45,-322.23 817.38,-371.5 824.98,-385.41 833.23,-399.46 841.87,-413.43"/>
<polygon fill="black" stroke="black" points="841.7,-413.16 848.27,-416.12 848.07,-423.33 841.49,-420.37 841.7,-413.16"/>
<text text-anchor="middle" x="860.62" y="-392.7" font-family="Times,serif" font-size="14.00" fill="green">_base_url</text>
</g>
<!-- nbiatoolkit.utils.nbia_endpoints.NBIA_ENDPOINTS -->
<g id="node5" class="node">
<title>nbiatoolkit.utils.nbia_endpoints.NBIA_ENDPOINTS</title>
<polygon fill="none" stroke="black" points="1184,-149 1184,-222.5 1314.75,-222.5 1314.75,-149 1184,-149"/>
<text text-anchor="start" x="1192" y="-205.2" font-family="Times,serif" font-size="14.00">NBIA_ENDPOINTS</text>
<polyline fill="none" stroke="black" points="1184,-198 1314.75,-198"/>
<text text-anchor="start" x="1234.38" y="-180.7" font-family="Times,serif" font-size="14.00">name</text>
<polyline fill="none" stroke="black" points="1184,-173.5 1314.75,-173.5"/>
<text text-anchor="start" x="1247.5" y="-156.2" font-family="Times,serif" font-size="14.00"> </text>
</g>
<!-- nbiatoolkit.auth.OAuth2 -->
<g id="node6" class="node">
<title>nbiatoolkit.auth.OAuth2</title>
<polygon fill="none" stroke="black" points="826.88,-0.5 826.88,-371 1055.88,-371 1055.88,-0.5 826.88,-0.5"/>
<text text-anchor="start" x="919.62" y="-353.7" font-family="Times,serif" font-size="14.00">OAuth2</text>
<polyline fill="none" stroke="black" points="826.88,-346.5 1055.88,-346.5"/>
<text text-anchor="start" x="867.88" y="-329.2" font-family="Times,serif" font-size="14.00">access_token</text>
<text text-anchor="start" x="867.88" y="-312.7" font-family="Times,serif" font-size="14.00">api_headers</text>
<text text-anchor="start" x="867.88" y="-296.2" font-family="Times,serif" font-size="14.00">base_url : NBIA, str</text>
<text text-anchor="start" x="867.88" y="-279.7" font-family="Times,serif" font-size="14.00">client_id : str</text>
<text text-anchor="start" x="867.88" y="-263.2" font-family="Times,serif" font-size="14.00">expiry_time : NoneType</text>
<text text-anchor="start" x="867.88" y="-246.7" font-family="Times,serif" font-size="14.00">fernet_key</text>
<text text-anchor="start" x="867.88" y="-230.2" font-family="Times,serif" font-size="14.00">password : str</text>
<text text-anchor="start" x="867.88" y="-213.7" font-family="Times,serif" font-size="14.00">refresh_expiration_time</text>
<text text-anchor="start" x="867.88" y="-197.2" font-family="Times,serif" font-size="14.00">refresh_expiry : NoneType</text>
<text text-anchor="start" x="867.88" y="-180.7" font-family="Times,serif" font-size="14.00">refresh_token : str</text>
<text text-anchor="start" x="867.88" y="-164.2" font-family="Times,serif" font-size="14.00">scope : NoneType</text>
<text text-anchor="start" x="867.88" y="-147.7" font-family="Times,serif" font-size="14.00">token_expiration_time</text>
<text text-anchor="start" x="867.88" y="-131.2" font-family="Times,serif" font-size="14.00">token_scope</text>
<text text-anchor="start" x="867.88" y="-114.7" font-family="Times,serif" font-size="14.00">username : str</text>
<polyline fill="none" stroke="black" points="826.88,-107.5 1055.88,-107.5"/>
<text text-anchor="start" x="834.88" y="-90.2" font-family="Times,serif" font-size="14.00">is_logged_out(): bool</text>
<text text-anchor="start" x="834.88" y="-73.7" font-family="Times,serif" font-size="14.00">is_token_expired(): bool</text>
<text text-anchor="start" x="834.88" y="-57.2" font-family="Times,serif" font-size="14.00">logout(): None</text>
<text text-anchor="start" x="834.88" y="-40.7" font-family="Times,serif" font-size="14.00">refresh_token_or_request_new(): None</text>
<text text-anchor="start" x="834.88" y="-24.2" font-family="Times,serif" font-size="14.00">request_new_access_token()</text>
<text text-anchor="start" x="834.88" y="-7.7" font-family="Times,serif" font-size="14.00">set_token_data(token_data: dict)</text>
</g>
<!-- nbiatoolkit.auth.OAuth2&#45;&gt;nbiatoolkit.nbia.NBIAClient -->
<g id="edge1" class="edge">
<title>nbiatoolkit.auth.OAuth2&#45;&gt;nbiatoolkit.nbia.NBIAClient</title>
<path fill="none" stroke="black" d="M938.96,-371.46C939.75,-383.16 940.79,-394.76 942.12,-406 942.34,-407.78 942.56,-409.56 942.79,-411.35"/>
<polygon fill="black" stroke="black" points="942.79,-411.37 947.58,-416.76 944.44,-423.25 939.66,-417.86 942.79,-411.37"/>
<text text-anchor="middle" x="982.5" y="-392.7" font-family="Times,serif" font-size="14.00" fill="green">_oauth2_client</text>
</g>
<!-- nbiatoolkit.utils.nbia_endpoints.ReturnType -->
<g id="node7" class="node">
<title>nbiatoolkit.utils.nbia_endpoints.ReturnType</title>
<polygon fill="none" stroke="black" points="1085.12,-149 1085.12,-222.5 1165.62,-222.5 1165.62,-149 1085.12,-149"/>
<text text-anchor="start" x="1093.12" y="-205.2" font-family="Times,serif" font-size="14.00">ReturnType</text>
<polyline fill="none" stroke="black" points="1085.12,-198 1165.62,-198"/>
<text text-anchor="start" x="1110.38" y="-180.7" font-family="Times,serif" font-size="14.00">name</text>
<polyline fill="none" stroke="black" points="1085.12,-173.5 1165.62,-173.5"/>
<text text-anchor="start" x="1123.5" y="-156.2" font-family="Times,serif" font-size="14.00"> </text>
</g>
<!-- nbiatoolkit.utils.nbia_endpoints.ReturnType&#45;&gt;nbiatoolkit.nbia.NBIAClient -->
<g id="edge3" class="edge">
<title>nbiatoolkit.utils.nbia_endpoints.ReturnType&#45;&gt;nbiatoolkit.nbia.NBIAClient</title>
<path fill="none" stroke="black" d="M1118.98,-222.71C1110.85,-261.68 1094.16,-324.59 1064.38,-371.5 1058.14,-381.32 1051.16,-379.41 1045.38,-389.5 1041.14,-396.89 1037.24,-404.59 1033.66,-412.51"/>
<polygon fill="black" stroke="black" points="1033.7,-412.4 1035.02,-419.5 1028.98,-423.43 1027.66,-416.34 1033.7,-412.4"/>
<text text-anchor="middle" x="1079.88" y="-392.7" font-family="Times,serif" font-size="14.00" fill="green">_return_type</text>
</g>
<!-- nbiatoolkit.utils.nbia_endpoints.ReturnType&#45;&gt;nbiatoolkit.nbia.NBIAClient -->
<g id="edge4" class="edge">
<title>nbiatoolkit.utils.nbia_endpoints.ReturnType&#45;&gt;nbiatoolkit.nbia.NBIAClient</title>
<path fill="none" stroke="black" d="M1128.67,-222.93C1131.55,-267.12 1132.78,-343.68 1114.38,-406 1113.79,-408 1113.17,-410 1112.54,-411.99"/>
<polygon fill="black" stroke="black" points="1112.52,-412.05 1114.39,-419.02 1108.68,-423.42 1106.81,-416.45 1112.52,-412.05"/>
<text text-anchor="middle" x="1152.88" y="-392.7" font-family="Times,serif" font-size="14.00" fill="green">_return_type</text>
</g>
</g>
</svg>
